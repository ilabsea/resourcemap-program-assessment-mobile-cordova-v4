<html>
 <head>
  <title>Resource Map</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" type="text/css" href="css/index.css" />
  <link href="css/vendor/form_validation.css" rel="stylesheet" type="text/css"/>
  <link href="css/alertStyle.css" rel="stylesheet" type="text/css"/>
  <link href="css/vendor/font_style.css" rel="stylesheet" type="text/css"/>

  <link href="css/libs/jquery.mobile-1.4.2.css" rel="stylesheet" type="text/css"/>
  <link href="css/libs/jqm1.4.2.css" rel="stylesheet" type="text/css"/>
  <link href="css/libs/jquery.mobile.icons.min.css" rel="stylesheet" type="text/css"/>

  <!--core library-->
  <script src="js/libs/jquery-1.11.0.min.js"></script>

  <!--Project files-->
  <script src="js/libs/jquery.mobile-1.4.2.js" type="text/javascript"></script>
  <script src="js/libs/i18next.js"></script>

  <link href="css/libs/jqtree.css" rel="stylesheet" type="text/css"/>

  <script src="js/vendor/persistence/persistence.js" type="text/javascript"></script>
  <script src="js/vendor/persistence/persistence.sync.js" type="text/javascript"></script>
  <script src="js/vendor/persistence/persistence.store.sql.js" type="text/javascript"></script>
  <script src="js/vendor/persistence/persistence.store.sqlite_web.js" type="text/javascript"></script>
  <script src="js/vendor/persistence/persistence.store.memory.js" type="text/javascript"></script>
  <script src="js/vendor/persistence/persistence.jquery.js" type="text/javascript"></script>

  <script src="js/core/db_connection.js" type="text/javascript"></script>
  <script src="js/core/table.js" type="text/javascript"></script>

  <script src="js/app/controller/collection_controller.js" type="text/javascript"></script>
  <script src="js/app/controller/field_controller.js" type="text/javascript"></script>
  <script src="js/app/controller/site_controller.js" type="text/javascript"></script>
  <script src="js/app/controller/session_controller.js" type="text/javascript"></script>
  <script src="js/app/controller/session_offline_controller.js" type="text/javascript"></script>
  <script src="js/app/controller/session_online_controller.js" type="text/javascript"></script>
  
  <script src="js/app/model/collection_model.js" type="text/javascript"></script>
  <script src="js/app/model/collection_offline.js" type="text/javascript"></script>
  <script src="js/app/model/field_model.js" type="text/javascript"></script>
  <script src="js/app/model/field_offline.js" type="text/javascript"></script>
  <script src="js/app/model/hierarchy_model.js" type="text/javascript"></script>
  <script src="js/app/model/site_model.js" type="text/javascript"></script>
  <script src="js/app/model/site_offline.js" type="text/javascript"></script>
  <script src="js/app/model/user_model.js" type="text/javascript"></script>
  <script src="js/app/model/user_offline.js" type="text/javascript"></script>
  <script src="js/app/model/photo.js" type="text/javascript"></script>
  
  <script src="js/app/helper/spinner.js" type="text/javascript"></script>

 </head>
 <body> 
  <!--page-login-->   
  <div data-role="page" id="page-login" data-theme="b">
   <div data-role="header"> 
    <div id="div-language" style=""> </div>
    <div style="clear: both"></div>
   </div> 
   <div data-role="content">                
    <div>
     <center><img src="img/logo.png" alt="Resource Map"/></center>   
    </div>
    <p id="sign_up_success" class="success" data-i18n="validation.signupsuccess">
     Sign up successfully.
    </p>
    <p id="invalidmail" class="invalid" data-i18n="validation.invalide">
     Invalid email or password.
    </p>
    <p id="noMailInDb" class="invalid" data-i18n="validation.not_found">
     Not found in database.
    </p>
    <h3 id="info_sign_in" data-i18n="validation.plsSignIn">Please sign in</h3>
    <form id="form_login">
     <label for="email" data-i18n="global.email"> Email </label>
     <input type="email" id="email" name="user[email]" class="required email"/>
     <label for="password" data-i18n="global.password"> Password </label>
     <input type="password" id="password" name="user[password]" class="required"/>
     <button class="ui-shadow ui-btn ui-corner-all" id="btn_submitLogin" 
             data-i18n="login_page.login">Log in</button>
    </form>              
   </div>
   <div>
    <p id="validation_email_psd" class="required_data" 
       data-i18n="validation.emailPsd"> Please enter your email and password. </p>
   </div>
   <div style="position: absolute; bottom: 10px; right:10px">
    <a href="#page-about-release" data-rel="popup" 
       data-i18n="login_page.about">About</a>
   </div>
   <div id="page-about-release" data-role="popup">
    <div style="margin:7px">
     Version: 3.1 <br>
     Server: http://resourcemap-sea.instedd.org
    </div>
   </div>
  </div>

  <!-- initial page -->
  <div data-role="page" id="page-initial" data-theme="b">
  </div>

  <!-- page-collection-list -->
  <div data-role="page" id="page-collection-list" data-theme="b">
   <div data-role="header" >
    <button id="logout" data-theme="a" data-inline="true" data-icon="carat-r" 
            class="ui-btn-right" data-i18n="global.logout">Sign out</button>
    <h2 data-i18n="collection_page.collection">My Collections</h2>
   </div>
   <div data-role="content">
    <ul data-role='listview' class="clearPreviousDisplay" id="collection-list" 
        data-inset="true" data-theme="c">
    </ul>
    <div>
     <a id="btn_viewOfflineSite" data-role="button" href="#page-site-list-all" 
        data-inset="true" data-i18n="collection_page.view_offline_site">
      View offline sites
     </a>
    </div>
   </div>
  </div>

  <!--page-site-list-all-offline-->
  <div data-role="page" id="page-site-list-all" data-theme="b">
   <div data-role="header">
    <a href="#page-collection-list" data-theme="a"  data-role="button" 
       data-inline="true" data-icon="carat-l" class="ui-btn-left" 
       data-i18n="global.back">Back
    </a>
    <h1 data-i18n="global.site">Sites</h1>
    <button id="logout" data-theme="a" data-inline="true" data-icon="carat-r" 
            class="ui-btn-right" data-i18n="global.logout">Sign out</button>
   </div>
   <div data-role="content" id="sitelistview">
    <ul id="offlinesite-list" 
        data-role="listview" data-inset="true" data-theme="c"> 
    </ul> 
    <div class="ui-grid-solo" data-theme="c">
     <div class="ui-block-a"> 
      <button id="btn_sendToServerAll" 
              data-theme="e" data-icon="forward" data-i18n="global.send_to_server">
       Send to server
      </button> 
     </div>          
    </div>
   </div>
  </div>

  <!--site-site-list-->
  <div data-role="page" id="page-site-list" data-theme="b">
   <div data-role="header">
    <a href="#page-collection-list" data-role="button" data-theme="a" 
       data-inline="true" data-icon="carat-l" class="ui-btn-left" 
       data-i18n="global.back">Back
    </a>
    <h2 class="title"></h2>
    <div class="ui-btn-right" >
     <select data-theme="a" data-native-menu="false" data-iconpos="notext" 
             data-icon="bullets" name="site-list-menu" id="site-list-menu" 
             onchange="SiteList.menu()" > 
      <option value="" data-i18n="global.menu"></option>
      <option value="1" selected data-i18n="global.viewAll">View all</option>
      <option value="2" data-i18n="global.viewOffline">View offline</option>
      <option value="3" data-i18n="global.viewOnline">View online</option>
      <option value="4" data-i18n="global.logout">Logout</option>
     </select>
    </div> 
   </div>
   <div data-role="content" id="sitelist">
    <div> <a data-role="button" id="btn_create_site" href="#page-create-site" 
             data-icon="plus" data-i18n="global.add">Add new site</a>
    </div>	   
    <ul class="clearPreviousDisplay" data-role='listview' id="site-list" 
        data-inset="true" data-theme="c">
    </ul> 
    <button id="btn_sendToServer" data-icon="forward" 
            data-i18n="global.send_to_server">
     Send to server
    </button>
    <ul class="clearPreviousDisplay" data-role='listview' 
        id="site-list-online" data-inset="true" data-theme="c">
    </ul>
   </div>
  </div>

  <!--page-create-site-->
  <div data-role="page" id="page-create-site" data-theme="b">
   <div data-role="header">
    <a data-role="button" data-theme="a" href="#page-site-list" 
       id='btn_back_site_in_create' data-icon="carat-l" class="ui-btn-left" 
       data-i18n="global.back">Back
    </a>
    <h2 class="title"></h2>
    <div class="ui-btn-right" id="ui-btn-layer-menu"></div> 
   </div>
   <div data-role="content"> 
    <form method="post" id="form_create_site" enctype="multipart/form-data"> 
     <div id="wrapSiteName" class="invisible">
      <label for="sname" data-i18n="[html]global.name"> Name </label>
      <input type="text" name="sitename" id="sitename" class="required"/>
     </div><br>
     <div id="wrapSiteLocation" class="invisible">
      <a href="#page-map"><img id="create-icon-map" src="img/map.png" 
                               alt="map icon" width="50" height="50"></a>
      <div>
       <label for="lolat" data-i18n="[html]global.lat"> Location'Lat </label>
       <input type="number" name="lat" id="lat" class="required"/>
       <label for="lolng" data-i18n="[html]global.lng"> Location'Lng </label>
       <input type="number" name="lng" id="lng" class="required"/>
      </div>
     </div>
     <div class="clearPreviousDisplay" id="div_field_collection"></div> 
     <button id="btn_submitAddSite" data-inset="true" 
             data-i18n="global.save_site">Save Site
     </button>
     <p id="validation_create-site" class="required_data"  tabindex="200" 
        data-i18n="validation.emailPsdConfirm"> Please enter all required fields. 
     </p>
    </form>  
   </div> 
  </div>

  <!-- view map -->
  <div data-role="page" id="page-map" data-theme="b" >
   <div data-role="header">
    <a id="btn_back_create_site" href="#page-create-site" data-role="button" 
       data-theme="a" data-inline="true" data-icon="carat-l" class="ui-btn-left" 
       data-i18n="global.back">Back
    </a>
    <a id="btn_back_update_site" href="#page-update-site" data-role="button" 
       data-theme="a" data-inline="true" data-icon="carat-l" class="ui-btn-left" 
       data-i18n="global.back">Back
    </a>
    <a id="btn_back_update_site_online" href="#page-update-site-online" 
       data-role="button" data-theme="a" data-inline="true" data-icon="carat-l" 
       class="ui-btn-left" data-i18n="global.back">Back
    </a>
    <h1 data-i18n="map_page.map">Map</h1>
    <button id="logout" data-theme="a" data-inline="true" data-icon="carat-r" 
            class="ui-btn-right" data-i18n="global.logout">Sign out</button>
   </div>
   <div data-role="content" id="content_map">
    <div id="latlng_canvas">
     <label for="lolat" data-i18n="global.latitude"> Location'Lat </label>
     <input type="number" name="lat" id="mark_lat" class="required"/>
     <label for="lolng" data-i18n="global.longitude"> Location'Lng </label>
     <input type="number" name="lng" id="mark_lng" class="required"/>
    </div>
    <div id="map_canvas"></div>
   </div>
  </div>

  <!-- update site within a collection in local database-->
  <div data-role="page" id="page-update-site" data-theme="b">
   <div data-role="header">
    <div><a href="#page-site-list" id="btn_back_site_list" 
            data-role="button" data-theme="a" data-inline="true" data-icon="carat-l" 
            class="ui-btn-left" data-i18n="global.back">Back</a></div>
    <div><a href="#page-site-list-all" id="btn_back_site_list_all" 
            data-role="button" data-theme="a" data-inline="true" data-icon="carat-l" 
            class="ui-btn-left" data-i18n="global.back">Back</a></div>
    <h1 class="title"> </h1>
    <div class="ui-btn-right" id="ui-btn-layer-menu-update"></div>
   </div>
   <div data-role="content">
    <form  method="post" id="form_update_site" class="form_update">
     <div id="div-site-update-name"></div>
     <div class="clearPreviousDisplay" id="div_update_field_collection"> </div>
     <div class="ui-grid-a">
      <div class="ui-block-a"><button id="btn_submitUpdateSite" 
                                      data-i18n="global.update">Update</button>
      </div>
      <div class="ui-block-b">
       <a data-role="button" href="#confirm_delete_site" data-rel="dialog" 
          data-i18n="global.delete">Delete</a>
      </div>	   
     </div>
     <p id="validation_update-site" class="required_data" tabindex="200" 
        data-i18n="validation.emailPsdConfirm"> Please enter all required fields. 
     </p>
    </form> 
   </div>
  </div>

  <!--update site within a collection in server database-->
  <div data-role="page" id="page-update-site-online" data-theme="b">
   <div data-role="header">
    <a href="#page-site-list" id="btn_back_site_list_online" data-role="button" 
       data-theme="a" data-inline="true" data-icon="carat-l" class="ui-btn-left" 
       data-i18n="global.back">Back
    </a>
    <h1 class="title"> </h1>
    <div class="ui-btn-right" id="ui-btn-layer-menu-update-online"></div>
   </div>
   <div data-role="content">
    <form id="form_update_site_online" class="form_update">
     <div id="div-site-update-name-online"> </div>
     <div class="clearPreviousDisplay" id="div_update_field_collection_online"></div>
     <div>
      <button id="btn_submitUpdateSite_online"  data-i18n="global.update">Update
      </button>
     </div>
     <p id="validation_update-site-online" class="required_data" tabindex="200" 
        data-i18n="validation.emailPsdConfirm"> Please enter all required fields. 
     </p>
    </form>
   </div>
  </div>

  <!-- delete site within a collection -->
  <div data-dom-cache="false" data-role="page" id="confirm_delete_site" data-theme="b">
   <div data-role="header">
    <h1 data-i18n="update_site_page.delete_site"> Delete the site</h1>
   </div>
   <div data-role="content">
    <h3 data-i18n="update_site_page.alert_delete"> 
     Are you sure you want to delete the site? 
    </h3>
    <center>
     <a data-role="button" href="#page-update-site" data-inline="true" 
        data-inset="true" data-i18n="global.cancel">Cancel
     </a>
     <button id="btn_delete-site" data-inline="true" data-inset="true" 
             data-i18n="global.delete">Delete
     </button>
    </center>
   </div>
  </div>

  <!--Camera Dialog-->
  <div data-role="dialog" id="cameraDialog" 
       data-theme="b" data-url="cameraDialog" tabindex="0" 
       class="ui-page ui-page-theme-b ui-dialog ui-page-active" 
       style="display:none; position:fixed; min-height: 435px; top:50%; margin-top: -207px;">
   <div role="dialog" class="ui-dialog-contain ui-overlay-shadow ui-corner-all">
    <div data-role="header" role="banner" class="ui-header ui-bar-inherit">
     <h1 data-i18n="dialog.option" class="ui-title" role="heading" aria-level="1">
      Photo Options
     </h1>
    </div>
    <input type="hidden" id="currentCameraImage">
    <input type="hidden" id="currentCameraImageType">
    <div data-role="content" class="ui-content ui-body-b" role="main"> 
     <a data-role="button" data-i18n="dialog.take" 
        onclick="CameraModel.invokeCamera('camera')" 
        class="ui-link ui-btn ui-shadow ui-corner-all" role="button">
      Take Photo
     </a>
     <a data-role="button" data-i18n="dialog.choose" 
        onclick="CameraModel.invokeCamera('gallery')" 
        class="ui-link ui-btn ui-shadow ui-corner-all" role="button">
      Choose Existing
     </a>
     <center>
      <a onclick="CameraModel.closeDialog()" data-theme="a" data-role="button" 
         data-inline="true" data-inset="true" data-i18n="global.cancel" 
         class="ui-link ui-btn ui-btn-a ui-btn-inline ui-shadow ui-corner-all" 
         role="button">
       Cancel
      </a>
     </center>
    </div>
   </div>
  </div>

  <!--Dialog page when sites submit errors-->
  <div data-role="dialog" id="page-error-submit-site" 
       data-theme="b" data-url="page-error-submit-site" tabindex="0" 
       class="ui-page ui-page-theme-b ui-dialog ui-page-active" 
       style="display:none; position:fixed; min-height: 435px; top:50%; margin-top: -207px;"></div>

  <script src="cordova.js"></script>

  <script src="js/core/app.js" type="text/javascript"></script>
  <script src="js/core/app_template.js" type="text/javascript"></script>
  <script src="js/core/app_data_store.js" type="text/javascript"></script>
  <script src="js/core/app_cache.js" type="text/javascript"></script>
  <script src="js/core/session.js" type="text/javascript"></script>

  <script src="js/libs/handlebars-1.0.rc.1.js" type="text/javascript"></script>
  <script src="js/vendor/handlebarhelper.js" type="text/javascript"></script>
  
  <script src="js/libs/tree.jquery.js" type="text/javascript"></script>

  <script src="js/libs/jquery.validate.js" type="text/javascript"></script>
  <script src="js/libs/jquery.validation_form.js" type="text/javascript"></script>

  <script src="js/vendor/form_validation.js" type="text/javascript"></script>
  <script src="js/vendor/helper/validation_helper.js" type="text/javascript"></script>
  <script src="js/vendor/googleMap.js" type="text/javascript"></script>
  <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script>
  <script src="js/vendor/translate.js" type="text/javascript"></script>
  <script src="js/vendor/node-uuid/uuid.js" type="text/javascript"></script>

  <script src="js/libs/fastclick.js" type="text/javascript"></script>

  <script src="js/app/page/cross_domain.js" type="text/javascript"></script>
  <script src="js/app/page/collection.js" type="text/javascript"></script>
  <script src="js/app/page/site.js" type="text/javascript"></script>
  <script src="js/app/page/map.js" type="text/javascript"></script>
  <script src="js/app/page/hierarchy.js" type="text/javascript"></script>
  <script src="js/app/page/field.js" type="text/javascript"></script>
  <script src="js/app/page/send_to_server.js" type="text/javascript"></script>
  <script src="js/app/page/session.js" type="text/javascript"></script>

  <script src="js/app/model/camera_model.js" type="text/javascript"></script>
  <script src="js/app/model/site_camera.js" type="text/javascript"></script>
  <script src="js/app/model/sites_permission.js" type="text/javascript"></script>
  <script src="js/app/model/layer_membership.js" type="text/javascript"></script>
  <script src="js/app/model/visible_layers_for.js" type="text/javascript"></script>
  <script src="js/app/model/location.js" type="text/javascript"></script>
  
  <script src="js/app/helper/skip_logic.js" type="text/javascript"></script>
  <script src="js/app/helper/field_helper.js" type="text/javascript"></script>
  <script src="js/app/helper/date.js" type="text/javascript"></script>
  <script src="js/app/helper/layer_memberships_helper.js" type="text/javascript"></script>
  <script src="js/app/helper/operator.js" type="text/javascript"></script>
  <script src="js/app/helper/invisible_layer.js" type="text/javascript"></script>
  <script src="js/app/helper/dialog.js" type="text/javascript"></script>
  <script src="js/app/helper/site_helper.js" type="text/javascript"></script>
  <script src="js/app/helper/session_helper.js" type="text/javascript"></script>
  
  <script src="js/app/view/field_view.js" type="text/javascript"></script>
  <script src="js/app/view/collection_view.js" type="text/javascript"></script>
  <script src="js/app/view/site_view.js" type="text/javascript"></script>
 </body>
</html>